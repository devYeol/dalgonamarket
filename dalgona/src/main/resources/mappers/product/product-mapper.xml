<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="product">
	<resultMap type="product" id="productMap">
		<id property="productCode" column="product_code"/>
		<result property="productName" column="product_name"/>
		<result property="productPrice" column="product_price"/>
		<result property="productContent" column="product_content"/>
		<result property="productAmount" column="product_amount"/>
		<result property="productThumb" column="product_thumb"/>
		<result property="productImage" column="product_image"/>
		<result property="productDate" column="product_date"/>
	</resultMap>
	
	<select id="selectProduct" parameterType="_long" resultMap="productMap" >
		SELECT * FROM PRODUCT WHERE PRODUCT_CODE=#{productCode}
	</select>
	
	<select id="selectProducts" resultMap="productMap" >
		SELECT * FROM PRODUCT
	</select>
	
	<update id="minusProductAmount" parameterType="Map">
		UPDATE PRODUCT SET PRODUCT_AMOUNT=PRODUCT_AMOUNT-#{orderAmount} WHERE PRODUCT_CODE=#{productCode}
	</update>
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	<select  id="searchProduct" resultMap="productMap">
			select * from product where PRODUCT_NAME like '%'||#{keyword}||'%' or CATEGORY_NAME like '%'||#{keyword}||'%'
	</select>
	
	
</mapper>
